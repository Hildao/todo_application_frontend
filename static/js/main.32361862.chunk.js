(this.webpackJsonptodo_application_frontend=this.webpackJsonptodo_application_frontend||[]).push([[0],{18:function(e,a,t){e.exports=t(43)},23:function(e,a,t){},41:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),o=t(16),s=t.n(o),l=(t(23),t(17)),r=t(4),m=t(5),u=t.n(m);t(41);var i=function(){return c.a.createElement("h1",null,"toDo")},d=t(3),p=t.n(d);var f=function(e){var a=Object(n.useState)(""),t=Object(r.a)(a,2),o=t[0],s=t[1],l=Object(n.useState)(p()().format("ddd Do MMMM YYYY")),m=Object(r.a)(l,2),u=m[0],i=m[1];return c.a.createElement("div",{className:"row addTask"},c.a.createElement("div",{className:"col-md-4"},c.a.createElement("input",{type:"text",className:"input-group",id:"addTask",placeholder:"Add new task",value:o,onChange:function(e){s(e.target.value)}})),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("input",{type:"date",className:"input-group",value:u,onChange:function(e){i(e.target.value)}})),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("button",{className:"btn",onClick:function(){""===o?alert("Add a new task"):""===u?alert("Date required"):(e.addTaskFunc(o,u),s(""),i(p()().format("ddd Do MMMM YYYY")))}},c.a.createElement("i",{className:"fas fa-plus-circle"}))))};var E=function(e){return c.a.createElement("div",{className:"row m-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement("p",{className:"taskCount"},e.count," incomplete tasks")))},k=function(e){return c.a.createElement("div",{className:"row taskRow"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("p",{className:"task"},e.text)),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("p",{className:"dueDate"},p()(e.dueDate).format("ddd Do MMMM YYYY"))),c.a.createElement("div",{className:"col-md-2"},0===e.completed&&c.a.createElement("button",{className:"btn",onClick:function(){e.markCompleteFunc(e.id)}},c.a.createElement("i",{className:"fas fa-check-circle"}))),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("button",{className:"btn",onClick:function(){e.deleteTaskFunc(e.id)}},c.a.createElement("i",{className:"fas fa-trash-alt"}))))};var v=function(){var e=Object(n.useState)([]),a=Object(r.a)(e,2),t=a[0],o=a[1];Object(n.useEffect)((function(){u.a.get("https://6aanbpmsk6.execute-api.eu-west-1.amazonaws.com/dev/tasks").then((function(e){console.log("Success",e.data),o(e.data)})).catch((function(e){console.log("Error",e)}))}),[]);var s=function(e){u.a.delete("https://6aanbpmsk6.execute-api.eu-west-1.amazonaws.com/dev/tasks/".concat(e)).then((function(a){var n=t.filter((function(a){return a.TaskId!==e}));o(n)})).catch((function(e){console.log("API Error",e)}))},m=function(e){u.a.put("https://6aanbpmsk6.execute-api.eu-west-1.amazonaws.com/dev/tasks/".concat(e),{Completed:!0}).then((function(a){var n=t.map((function(a){return a.TaskId===e&&(a.Completed=1),a}));o(n)})).catch((function(e){console.log("Error updating Task",e)}))};return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"background"},c.a.createElement(i,null),c.a.createElement("main",null,c.a.createElement("div",{className:"container"},c.a.createElement(f,{addTaskFunc:function(e,a){u.a.post("https://6aanbpmsk6.execute-api.eu-west-1.amazonaws.com/dev/tasks",{Description:e,DueDate:a}).then((function(e){var a=e.data,n=[].concat(Object(l.a)(t),[a]);o(n)})).catch((function(e){console.log("Error creating task",e)}))}}),c.a.createElement(E,{count:t.length}),t.map((function(e){return c.a.createElement(k,{key:e.TaskId,deleteTaskFunc:s,markCompleteFunc:m,text:e.Description,completed:e.Completed,dueDate:e.DueDate,id:e.TaskId})}))))))};s.a.render(c.a.createElement(v,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.32361862.chunk.js.map